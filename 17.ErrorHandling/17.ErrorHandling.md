## [ì—ëŸ¬ ì²˜ë¦¬ (Error Handling)]

ì•Œì•„ë‘ë©´ ì—ëŸ¬ì²˜ë¦¬ ìœ ìš©í•˜ê²Œ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ í•­ìƒ ê³µë¶€í•´ì•¼ì§€...í•´ì•¼ì§€... í•˜ë‹¤ê°€ 1ì°¨ë¡œ í•œë²ˆ ì •ë¦¬í•´ë³´ì•˜ë‹¤...ğŸ¥²

> **ğŸ” ì •ì˜**
>
> `ì—ëŸ¬ ì²˜ë¦¬(Error handling)ëŠ” í”„ë¡œê·¸ë¨ì˜ ì—ëŸ¬ ì¡°ê±´ì—ì„œ ì‘ë‹µí•˜ê³  ë³µêµ¬í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ ì…ë‹ˆë‹¤. `
> `SwiftëŠ” ëŸ°íƒ€ì„ì— ë³µêµ¬ ê°€ëŠ¥í•œ ì—ëŸ¬ë¥¼ ë˜ì§€ê³  í¬ì°©í•˜ê³  ì „íŒŒí•˜ê³  ì¡°ì‘í•˜ê¸° ìœ„í•œ `
> `ìµœê³  ìˆ˜ì¤€ì˜ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤.`
>
> ì¼ë¶€ ì‘ì—…ì€ í•­ìƒ ì‹¤í–‰ì„ ì™„ë£Œí•˜ê±°ë‚˜ ìœ ìš©í•œ ì¶œë ¥ì„ ìƒì„±í•œë‹¤ê³  ë³´ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
> ì˜µì…”ë„ì€ ê°’ì´ ì—†ìŒì„ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©ë˜ì§€ë§Œ ì‘ì—…ì´ ì‹¤íŒ¨í•  ê²½ìš° ì½”ë“œê°€ ê·¸ì— ë”°ë¼ ì‘ë‹µí•  ìˆ˜ ìˆë„ë¡ 
> ì—ëŸ¬ì˜ ì›ì¸ì„ ì´í•´í•˜ëŠ” ê²ƒì´ ìœ ìš©í•œ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´ ë””ìŠ¤í¬ì˜ íŒŒì¼ì—ì„œ ë°ì´í„°ë¥¼ ì½ê³  ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ì„ ìƒê°í•´ ë´…ì‹œë‹¤. 
> ì§€ì •ëœ ìœ„ì¹˜ì— íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ íŒŒì¼ì— ì½ê¸° ê¶Œí•œì´ ì—†ê±°ë‚˜ ì ì ˆí•œ í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© ë˜ì§€ ì•ŠëŠ” ê²ƒì„ 
> í¬í•¨í•˜ì—¬ ì‘ì—…ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” ë§ì€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. 
>
> ì´ëŸ¬í•œ ë‹¤ë¥¸ ìƒí™©ì„ êµ¬ë¶„í•˜ë©´ í”„ë¡œê·¸ë¨ì—ì„œ ì¼ë¶€ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê³  í•´ê²°í•  ìˆ˜ ì—†ëŠ” ì—ëŸ¬ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

##### ğŸ¤” ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ë“¤ì„ êµ¬ë¶„í•´ì„œ ì—ëŸ¬ ì „ë‹¬í•´ì¤Œìœ¼ë¡œì¨ ë¬¸ì œ í•´ê²°ì„ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê¸°ëŠ¥?

### 1. ì—ëŸ¬ í‘œí˜„ê³¼ ë˜ì§€ê¸° (Representing and Throwing Errors)

> Swiftì—ì„œ ì—ëŸ¬ëŠ” `Error` í”„ë¡œí† ì½œì— ì¤€ìˆ˜í•˜ëŠ” íƒ€ì…ì˜ ê°’ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤. 
> ì´ ë¹ˆ í”„ë¡œí† ì½œì€ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì— ëŒ€í•´ ì‚¬ìš©ë  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
>
> Swift ì—´ê±°í˜•ì€ ê´€ë ¨ëœ ì—ëŸ¬ ì¡°ê±´ì˜ ê·¸ë£¹ì„ ëª¨ë¸ë¦¬í•˜ëŠ”ë° íŠ¹íˆ ì í•©í•˜ë©° ê´€ë ¨ê°’ì„ ì‚¬ìš©í•˜ì—¬ 
> ì—ëŸ¬ì˜ íŠ¹ì„±ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒì€ ê²Œì„ ë‚´ì—ì„œ ìë™ íŒë§¤ê¸°ë¥¼ ì‘ë™í•˜ëŠ” ì—ëŸ¬ ì¡°ê±´ì„ ë‚˜íƒ€ë‚´ëŠ” ë°©ë²•ì…ë‹ˆë‹¤:

```swift
enum VendingMachineError: Error {
    case invalidSelection
    case insufficientFunds(coinsNeeded: Int)
    case outOfStock
}
```

ğŸ¤” **enum ìƒì„± í›„ Errorí”„ë¡œí† ì½œì„ ì„ ì–¸í•œ í›„ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ë“¤ì„ case êµ¬ë¶„**

- ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ì¼ì´ ë°œìƒí•˜ì—¬ ì •ìƒì ì¸ íë¦„ì„ ê³„ì†í•  ìˆ˜ ì—†ìŒì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
  `throw` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ë¥¼ ë°œìƒ ì‹œí‚µë‹ˆë‹¤. 
  - ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì˜ ì½”ë“œëŠ” ìë™ íŒë§¤ê¸°ì— 5ê°œì˜ ì½”ì¸ì´ ë” í•„ìš”í•˜ë‹¤ê³  ì—ëŸ¬ë¥¼ ë°œìƒ ì‹œí‚µë‹ˆë‹¤.

```swift
throw VendingMachineError.insufficientFunds(coinsNeeded: 5)
```

ğŸ¤” **ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì— throw êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ enumì— êµ¬ë¶„í•´ë‘” caseë¬¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ê±´ê°€? ì¼ë‹¨ ë” ë³´ì**

***

### 2. ì—ëŸ¬ ì²˜ë¦¬ (Handling Errors)

> ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ ì£¼ë³€ ì½”ë“œì˜ ë¶€ë¶„ì´ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•´ì•¼ í•©ë‹ˆë‹¤. 
> ì˜ˆë¥¼ ë“¤ì–´ ë¬¸ì œë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë°©ë²•ì„ ì‹œë„í•˜ê±°ë‚˜ ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ë¥¼ ì•Œë¦¬ëŠ” ë°©ë²•ìœ¼ë¡œ 
> ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
>
> Swiftì—ì„œëŠ” ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” 4ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. 
>
> 1. **í•¨ìˆ˜ì—ì„œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¡œ ì—ëŸ¬ë¥¼ ì „íŒŒ**
> 2. **`do`-`catch` êµ¬ë¬¸ì„ ì‚¬ìš©**
> 3. **ì˜µì…”ë„ ê°’ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬**
> 4. **ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  ì£¼ì¥ **
>
> ê° ì ‘ê·¼ì€ ì•„ë˜ì— ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
>
> í•¨ìˆ˜ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ í”„ë¡œê·¸ë¨ì˜ íë¦„ì´ ë³€ê²½ë˜ë¯€ë¡œ ì½”ë“œì—ì„œ `ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìœ„ì¹˜`ë¥¼ ì‹ ì†í•˜ê²Œ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. 
>
> ì½”ë“œì—ì„œ ì´ëŸ¬í•œ ìœ„ì¹˜ë¥¼ ì‹ë³„í•˜ë ¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜, ë©”ì„œë“œ, ë˜ëŠ” 
> ì´ˆê¸°í™” êµ¬ë¬¸ í˜¸ì¶œí•˜ëŠ” ì½”ë“œ ì´ì „ì— `try` ë˜ëŠ” `try?` ë˜ëŠ” `try!` í‚¤ì›Œë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. 
> ì´ í‚¤ì›Œë“œëŠ” ì•„ë˜ì— ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

- Swift ì—ëŸ¬ì²˜ë¦¬ëŠ” `try`, `catch` ê·¸ë¦¬ê³  `throw` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. 
- Objective-Cë¥¼ í¬í•¨í•˜ì—¬ ë§ì€ ì–¸ì–´ì—ì„œì˜ ì˜ˆì™¸ ì²˜ë¦¬ì™€ ë‹¬ë¦¬ Swiftì—ì„œ ì—ëŸ¬ ì²˜ë¦¬ëŠ” ê³„ì‚° ë¹„ìš©ì´ ë§ì´ ë“œëŠ” í”„ë¡œì„¸ìŠ¤ ì¸ í˜¸ì¶œ ìŠ¤íƒ í•´ì œê°€ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
  - ë”°ë¼ì„œ `throw` êµ¬ë¬¸ì˜ ì„±ëŠ¥ íŠ¹ì„±ì€ `return` êµ¬ë¬¸ì˜ ì„±ëŠ¥ íŠ¹ì„±ê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.

ğŸ¤” **ì—ëŸ¬ì²˜ë¦¬ ë°©ë²•ì´ 4ê°€ì§€ë‚˜ ìˆêµ°... ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•˜ëŠ” ì´ìœ ëŠ” `ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìœ„ì¹˜ë¥¼ ì‹ ì†í•˜ê²Œ íŒŒì•…!`**



#### a. ë˜ì§€ê¸° í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì—ëŸ¬ ì „íŒŒ

> ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜, ë©”ì„œë“œ, ë˜ëŠ” ì´ˆê¸°í™” êµ¬ë¬¸ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ íŒŒë¼ë¯¸í„° ë’¤ì— í•¨ìˆ˜ì˜ ì„ ì–¸ì— `throws` í‚¤ì›Œë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. 
>
> `throws` ë¡œ í‘œì‹œëœ í•¨ìˆ˜ëŠ” ***ë˜ì§€ê¸° í•¨ìˆ˜*** ë¼ê³  í•©ë‹ˆë‹¤. í•¨ìˆ˜ì— ë°˜í™˜ íƒ€ì…ì´ ì§€ì •ë˜ì–´ ìˆìœ¼ë©´ `throws` í‚¤ì›Œë“œëŠ” ë°˜í™˜ í™”ì‚´í‘œ (`->`) ì „ì— ì‘ì„±í•©ë‹ˆë‹¤.

```swift
func canThrowErrors() throws -> String // ë˜ì§€ê¸° í•¨ìˆ˜ë¡œ ì—ëŸ¬ë¥¼ ë˜ì§
func cannotThrowErrors() -> String // ì¼ë°˜ í•¨ìˆ˜ë¡œ ì—ëŸ¬ë¥¼ ë˜ì§€ì§€ ì•ŠìŒ
```

- ë˜ì§€ê¸° í•¨ìˆ˜ëŠ” ë‚´ë¶€ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ë¥¼ í˜¸ì¶œëœ ë²”ìœ„ë¡œ ì „íŒŒí•©ë‹ˆë‹¤.
  - ë˜ì§€ê¸° í•¨ìˆ˜ëŠ” ì—ëŸ¬ë¥¼ ì „íŒŒë§Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  -  **ë˜ì§€ê¸° ì„ ì–¸ì´ ë˜ì§€ ì•Šì€ í•¨ìˆ˜ ë‚´ì—ì„œ ë°œìƒëœ ëª¨ë“  ì—ëŸ¬ëŠ” í•¨ìˆ˜ ë‚´ì—ì„œ ì²˜ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.**

ğŸ¤” **ì—ëŸ¬ë§Œ ì „íŒŒí•œë‹¤ëŠ”ê²Œ ì •í™•íˆ ë¬´ìŠ¨ ì˜ë¯¸ì§€...? ì¼ë‹¨ ì¼ë°˜ í•¨ìˆ˜ëŠ” ëª¨ë“  ì—ëŸ¬ê°€ í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬!?**

> ì•„ë˜ ì˜ˆì œì—ì„œ `VendingMachine` í´ë˜ìŠ¤ëŠ” ìš”ì²­ëœ í•­ëª©ì´ ë¶ˆê°€ëŠ¥ í•˜ê±°ë‚˜ í’ˆì ˆì´ê±°ë‚˜ 
> í˜„ì¬ ì…ê¸ˆì•¡ì„ ì´ˆê³¼í•˜ëŠ” ë¹„ìš©ì´ ìˆëŠ” ê²½ìš° ì ì ˆí•œ `VendingMachineError` ë¥¼ ë°œìƒí•˜ëŠ” `vend(itemNamed:)` ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤:

```swift
struct Item {
  var price: Int
  var count: Int
}

class VendingMachine {
  var inventory = [
    "Candy Bar": Item(price: 12, count: 7),
    "Chips": Item(price: 10, count: 4),
    "Pretzels": Item(price: 7, count: 11)
  ]
  var coinsDeposited = 0

  func vend(itemNamed name: String) throws {
    guard let item = inventory[name] else {
      throw VendingMachineError.invalidSelection
    }

    guard item.count > 0 else {
      throw VendingMachineError.outOfStock
    }

    guard item.price <= coinsDeposited else {
      throw VendingMachineError.insufficientFunds(coinsNeeded: item.price - coinsDeposited)
    }

    coinsDeposited -= item.price

    var newItem = item
    newItem.count -= 1
    inventory[name] = newItem

    print("Dispensing \(name)")
  }
}
```

- `vend(itemNamed:)` ë©”ì„œë“œì˜ êµ¬í˜„ì€ `guard` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë©”ì„œë“œë¥¼ ì¼ì° ì¢…ë£Œì‹œí‚¤ê³  
  ìŠ¤ë‚µ êµ¬ë§¤ ìš”êµ¬ì‚¬í•­ ì¤‘ í•˜ë‚˜ë¼ë„ ì¶©ì¡±í•˜ì§€ ì•Šìœ¼ë©´ ì ì ˆí•œ ì—ëŸ¬ë¥¼ ë°œìƒí•©ë‹ˆë‹¤. 
- `throw` êµ¬ë¬¸ì€ í”„ë¡œê·¸ë¨ ì œì–´ë¥¼ ì¦‰ì‹œ ì „ë‹¬í•˜ë¯€ë¡œ í•­ëª©ì€ ìš”êµ¬ì‚¬í•­ì´ ëª¨ë‘ ë§Œì¡±í•´ì•¼ë§Œ íŒë§¤ë©ë‹ˆë‹¤.
- `vend(itemNamed:)` ë©”ì„œë“œëŠ” ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ ì „íŒŒí•˜ê¸° ë•Œë¬¸ì— ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œëŠ” 
  `do`-`catch` êµ¬ë¬¸, `try?`ë˜ëŠ” `try!` ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ ê³„ì† ì „íŒŒí•´ì•¼ í•©ë‹ˆë‹¤. 

ğŸ¤” **throw êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ì—ëŸ¬ ìƒí™©ì„ êµ¬ë¶„ì‹œì¼œì£¼ëŠ” ë°©ì‹ í™•ì¸! Do-Catch-TryëŠ” ì–´ë–»ê²Œ ì“°ëŠ”ê±°ì§€? **

- ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ ì˜ˆì œì—ì„œ `buyFavoriteSnack(person:vendingMachine:)` ì€ ë˜ì§€ê¸° í•¨ìˆ˜ì´ë©° `vend(itemNamed:)` ë©”ì„œë“œì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ”
  `buyFavoriteSnack(person:vendingMachine:)` í•¨ìˆ˜ê°€ í˜¸ì¶œëœ ì§€ì ê¹Œì§€ ì „íŒŒë  ê²ƒì…ë‹ˆë‹¤.

```swift
let favoriteSnacks = [
    "Alice": "Chips",
    "Bob": "Licorice",
    "Eve": "Pretzels",
]
func buyFavoriteSnack(person: String, vendingMachine: VendingMachine) throws {
    let snackName = favoriteSnacks[person] ?? "Candy Bar"
    try vendingMachine.vend(itemNamed: snackName)
}
```

> ì´ ì˜ˆì œì—ì„œ `buyFavoriteSnack(person:vendingMachine:)` í•¨ìˆ˜ëŠ” 
> ì£¼ì–´ì§„ ì‚¬ëŒì˜ ì¢‹ì•„í•˜ëŠ” ìŠ¤ë‚µì„ ê²€ìƒ‰í•˜ê³  `vend(itemNamed:)` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ê·¸ ì œí’ˆì„ êµ¬ì…í•©ë‹ˆë‹¤. 
> `vend(itemNamed:)` ë©”ì„œë“œëŠ” ì—ëŸ¬ë¥¼ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ `try` í‚¤ì›Œë“œë¥¼ ì•ì— ë‘ì–´ í˜¸ì¶œë©ë‹ˆë‹¤.
>
> ë˜ì§€ê¸° ì´ˆê¸°í™” êµ¬ë¬¸ì€ ë˜ì§€ê¸° í•¨ìˆ˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì „íŒŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
>
> ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì˜ ëª©ë¡ì—ì„œ `PurchasedSnack` êµ¬ì¡°ì²´ì˜ ì´ˆê¸°í™” êµ¬ë¬¸ì€ 
> ì´ˆê¸°í™” í”„ë¡œì„¸ìŠ¤ ë¶€ë¶„ìœ¼ë¡œ ë˜ì§€ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ë°œìƒí•˜ëŠ” ëª¨ë“  ì—ëŸ¬ë¥¼ í˜¸ì¶œìì—ê²Œ ì „íŒŒí•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```swift
struct PurchasedSnack {
    let name: String
    init(name: String, vendingMachine: VendingMachine) throws {
        try vendingMachine.vend(itemNamed: name)
        self.name = name
    }
}
```

ğŸ¤” **throwë¥¼ ì‚¬ìš©í•´ì„œ ë˜ì§€ê¸° í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ì—ëŸ¬ì²˜ë¦¬ ì „íŒŒë¥¼ ë°›ê³  ì‹¶ì€ í•¨ìˆ˜ì— tryë¥¼ ì•ì— ì¨ì£¼ë©´ ë˜ë‚˜? **

ğŸ¤” **ì—ëŸ¬ ì „íŒŒë¼ëŠ” ê±´ ì—ëŸ¬ê°€ ë°œìƒí•œ í•¨ìˆ˜ì—ì„œ ë°”ê¹¥ í•¨ìˆ˜ê¹Œì§€ ê³„ì†í•´ì„œ ì—ëŸ¬ê°’ì„ ì „ë‹¬í•´ì£¼ëŠ” ëŠë‚Œ... **



#### b. Do-Catch ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ ì²˜ë¦¬ (Handling Errors Using Do-Catch)

> `do`-`catch` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œì˜ ë¸”ëŸ­ì„ ì‹¤í–‰í•˜ì—¬ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. 
> ì—ëŸ¬ê°€ `do` ì ˆì—ì„œ ë°œìƒë˜ë©´ `catch` ì ˆê³¼ ë¹„êµí•˜ì—¬ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•­ëª©ì„ ê²°ì •í•©ë‹ˆë‹¤.
>
> ë‹¤ìŒì€ `do`-`catch` êµ¬ë¬¸ì˜ ì¼ë°˜ì ì¸ í˜•íƒœì…ë‹ˆë‹¤

![img](https://95735008-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/assets%2F-M7Zt2HBfR67oi6QnKHI%2F-MI50Ts1kfMjdrFe_oIE%2F-MIA4jYQwyZi4iisdqOB%2F17_errorHandling.png?alt=media&token=e3d7a016-18c3-4208-890a-d62dad1b271d)

- ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ê°€ ë¬´ì—‡ì¸ì§€ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ `catch` ë’¤ì— íŒ¨í„´ì„ ì‘ì„±í•©ë‹ˆë‹¤. 
- `catch` ì ˆì´ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´ ì´ ì ˆì€ ëª¨ë“  ì—ëŸ¬ì™€ ì¼ì¹˜í•˜ê³  `error` ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ 
  ì§€ì—­ ìƒìˆ˜ë¡œ ì—ëŸ¬ë¥¼ ë°”ì¸ë“œ í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [íŒ¨í„´ (Patterns)](https://bbiguduk.gitbook.io/swift/language-reference/patterns) ì„ ì°¸ê³  ë°”ëë‹ˆë‹¤.

ğŸ¤” **Do-Try-Catchë¬¸ì—ì„œ whereì€ ë­ì§€... catchê°€ ì—†ìœ¼ë©´ ëª¨ë“  ì—ëŸ¬ë¥¼ ë¬¶ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¸ì‹?**

- ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ì½”ë“œëŠ” `VendingMachineError` ì—´ê±°í˜•ì— 3ê°€ì§€ ëª¨ë“  ì¼€ì´ìŠ¤ì— ëŒ€í•´ ì¼ì¹˜í•©ë‹ˆë‹¤.

```swift
var vendingMachine = VendingMachine()
vendingMachine.coinsDeposited = 8
do {
    try buyFavoriteSnack(person: "Alice", vendingMachine: vendingMachine)
    print("Success! Yum.")
} catch VendingMachineError.invalidSelection {
    print("Invalid Selection.")
} catch VendingMachineError.outOfStock {
    print("Out of Stock.")
} catch VendingMachineError.insufficientFunds(let coinsNeeded) {
    print("Insufficient funds. Please insert an additional \(coinsNeeded) coins.")
} catch {
    print("Unexpected error: \(error).")
}
// Prints "Insufficient funds. Please insert an additional 2 coins."
```

> ìœ„ì˜ ì˜ˆì œì—ì„œ `buyFavoriteSnack(person:vendingMachine:)` í•¨ìˆ˜ëŠ” ì—ëŸ¬ë¥¼ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ 
> `try` í‘œí˜„ì‹ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.
> ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì‹¤í–‰ì´ ì¦‰ì‹œ `catch` ì ˆë¡œ ì „ì†¡ë˜ì–´ ì „íŒŒê°€ ê³„ì† ë  ê²ƒì¸ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. 
> íŒ¨í„´ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ëŠ” ë§ˆì§€ë§‰ `catch` ì ˆì— ì˜í•´ í¬ì°©ë˜ê³  ì§€ì—­ `error` ìƒìˆ˜ì— ë°”ì¸ë”© ë©ë‹ˆë‹¤. 
> ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ `do` êµ¬ë¬¸ì— ë‚˜ë¨¸ì§€ êµ¬ë¬¸ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.
>
> `catch` ì ˆì€ `do` ì ˆì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. 
> `catch` ì ˆì´ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ëŠ” ì£¼ë³€ì— ì „íŒŒí•©ë‹ˆë‹¤. 
> ê·¸ëŸ¬ë‚˜ ì „íŒŒëœ ì—ëŸ¬ëŠ” *ì¼ë¶€* ì£¼ë³€ ë²”ìœ„ì—ì„œ ì²˜ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. 
> ë˜ì§€ì§€ ì•ŠëŠ” í•¨ìˆ˜ì—ì„œëŠ” `do`-`catch` êµ¬ë¬¸ì€ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. 
> ë˜ì§€ëŠ” í•¨ìˆ˜ì—ì„œëŠ” `do`-`catch` êµ¬ë¬¸ì´ë‚˜ í˜¸ì¶œìê°€ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. 
> ì—ëŸ¬ê°€ ì²˜ë¦¬ë˜ì§€ ì•Šê³  ë²”ìœ„ì˜ ìµœìƒìœ„ë¡œ ì „íŒŒë˜ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ë°œìƒí•©ë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì˜ ì˜ˆì œëŠ” `VendingMachineError` ê°€ ì•„ë‹Œ ëª¨ë“  ì—ëŸ¬ê°€ í˜¸ì¶œ í•¨ìˆ˜ì—ì„œ í¬ì°©ë˜ë„ë¡ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ¤” **try ë’¤ì— ì˜¤ëŠ” í•¨ìˆ˜ëŠ” throwê°€ ìˆë˜ ì—†ë˜ ì˜¬ ìˆ˜ ìˆëŠ”ê±´ê°€? í™•ì¸í•´ë´ì•¼ê² ë‹¤...**

ğŸ¤” **do-catchë¬¸ì„ ì“°ê²Œ ë˜ë©´ ëª¨ë“  ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ”ê²Œ ì´ìƒì ì¸ ëŠë‚Œ? ì•ˆê·¸ëŸ¬ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ê¹Œì§€ ê°ˆ ìˆ˜ ìˆìœ¼ë‹ˆ**..

```swift
func nourish(with item: String) throws {
    do {
        try vendingMachine.vend(itemNamed: item)
    } catch is VendingMachineError {
        print("Couldn't buy that from the vending machine.")
    }
}

do {
    try nourish(with: "Beet-Flavored Chips")
} catch {
    print("Unexpected non-vending-machine-related error: \(error)")
}
// Prints "Couldn't buy that from the vending machine."
```

- `nourish(with:)` í•¨ìˆ˜ì—ì„œ `vend(itemNamed:)` ê°€ `VendingMachineError` ì—´ê±°í˜•ì— ì¼€ì´ìŠ¤ ì¤‘ 
  í•˜ë‚˜ì˜ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ë©´ `nourish(with:)` ëŠ” ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ì—¬ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. 
- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `nourish(with:)` ëŠ” í˜¸ì¶œ ë¶€ë¶„ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì „íŒŒí•©ë‹ˆë‹¤. ì´ ì—ëŸ¬ëŠ” ì¼ë°˜ì ì¸ `catch` ì ˆì— ì˜í•´ í¬ì°©ë©ë‹ˆë‹¤.
  - ì—°ê´€ëœ ì—ëŸ¬ë¥¼ í¬ì°©í•˜ê¸° ìœ„í•œ ë‹¤ë¥¸ ë°©ë²•ì€ ì½¤ë§ˆë¡œ êµ¬ë¶„í•˜ì—¬ `catch` ë‹¤ìŒì— ëª©ë¡ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. (ì•„ë˜ëŠ” ì˜ˆì œ)

ğŸ¤” **do-catchë¬¸ì„ ì‚¬ìš©í•´ì„œ ì—ëŸ¬ë¥¼ ëª¨ë‘ ëª»ê±¸ëŸ¬ì£¼ì—ˆì„ë•Œ ìƒìœ„í•¨ìˆ˜ì—ì„œ í•œë²ˆì— ê±¸ëŸ¬ì¤„ ìˆ˜ ìˆëŠ”ê±´ê°€...?**

```swift
func eat(item: String) throws {
    do {
        try vendingMachine.vend(itemNamed: item)
    } catch VendingMachineError.invalidSelection, VendingMachineError.insufficientFunds, VendingMachineError.outOfStock {
        print("Invalid selection, out of stock, or not enough money.")
    }
}
```

- `eat(item:)` í•¨ìˆ˜ëŠ” í¬ì°©í•  ìë™ íŒë§¤ê¸° ì—ëŸ¬ë¥¼ ë‚˜ì—´í•˜ë©° ì—ëŸ¬ í…ìŠ¤íŠ¸ëŠ” í•´ë‹¹ ëª©ë¡ì˜ í•­ëª©ì— í•´ë‹¹í•©ë‹ˆë‹¤. 
- ëª©ë¡í™” ëœ 3ê°€ì§€ ì—ëŸ¬ ì¤‘ ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì´ `catch` ì ˆì€ ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤. 
- ë‚˜ì¤‘ì— ì¶”ê°€ë  ìˆ˜ ìˆëŠ” ì—ëŸ¬ë¥¼ í¬í•¨í•˜ì—¬ ë‹¤ë¥¸ ì—ëŸ¬ëŠ” ì£¼ë³€ ë²”ìœ„ë¡œ ì „íŒŒë©ë‹ˆë‹¤.

ğŸ¤” **do-catchë¬¸ì—ì„œ catchì— ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ,ë¡œ ì—°ê²°í•˜ì—¬ ë„£ì–´ì¤„ ìˆ˜ ìˆë‹¤ëŠ” ëœ» ê°™êµ°!**



#### c. ì—ëŸ¬ë¥¼ ì˜µì…”ë„ ê°’ì„ ë³€í™˜ (Converting Errors to Optional Values)

> ì—ëŸ¬ë¥¼ ì˜µì…”ë„ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ `try?` ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
> `try?` í‘œí˜„ì‹ì„ í‰ê°€í•˜ëŠ” ë™ì•ˆ ì—ëŸ¬ê°€ ë°œìƒë˜ë©´ ì´ í‘œí˜„ì‹ì˜ ê°’ì€ `nil` ì…ë‹ˆë‹¤.
> ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ ì½”ë“œì—ì„œ `x` ì™€ `y` ëŠ” ê°™ì€ ê°’ì„ ê°€ì§€ê³  ë™ì‘í•©ë‹ˆë‹¤:

```swift
func someThrowingFunction() throws -> Int {
    // ...
}

let x = try? someThrowingFunction()

let y: Int?
do {
    y = try someThrowingFunction()
} catch {
    y = nil
}
```

> `shomeThrowingFunction()` ì´ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ë©´ `x` ì™€ `y` ì˜ ê°’ì€ `nil` ì…ë‹ˆë‹¤. 
> ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `x` ì™€ `y` ì˜ ê°’ì€ ë°˜í™˜ëœ í•¨ìˆ˜ ê°’ì…ë‹ˆë‹¤. 
> `x` ì™€ `y` ëŠ” `someThrowingFunction()` ì´ ë°˜í™˜í•˜ëŠ” íƒ€ì…ì˜ ì˜µì…”ë„ ì…ë‹ˆë‹¤.
> ì—¬ê¸°ì„œ í•¨ìˆ˜ëŠ” ì •ìˆ˜ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ `x` ì™€ `y` ëŠ” ì˜µì…”ë„ ì˜µì…”ë„ ì •ìˆ˜ì…ë‹ˆë‹¤.
>
> `try?` ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ì—ëŸ¬ë¥¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ë ¤ëŠ” ê²½ìš° ê°„ê²°í•œ ì—ëŸ¬ ì²˜ë¦¬ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

- ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì˜ ì½”ë“œëŠ” ì—¬ëŸ¬ ì ‘ê·¼ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ëª¨ë“  ì ‘ê·¼ë°©ì‹ì´ ì‹¤íŒ¨í•˜ë©´ 
  `nil` ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```swift
func fetchData() -> Data? {
    if let data = try? fetchDataFromDisk() { return data }
    if let data = try? fetchDataFromServer() { return data }
    return nil
}
```

ğŸ¤” **ê·¸ëƒ¥ try?ë¥¼ ì“´ ê²½ìš°ì™€ do-try-catchë¥¼ ì“´ ì°¨ì´ì ì´ ë­ì§€...?**

ğŸ¤” **ì˜µì…”ë„ ê°’ìœ¼ë¡œ ë°˜í™˜í•˜ê²Œ ë˜ë©´ ì–´ë””ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ ì •í™•íˆ ì•Œ ìˆ˜ ìˆë‚˜?? í ... ì–´ë µêµ°**



#### d. ì—ëŸ¬ ì „íŒŒ ë¹„í™œì„±í™” (Disabling Error Propagation)

> ê°€ë” ë˜ì§€ëŠ” í•¨ìˆ˜ ë˜ëŠ” ë©”ì„œë“œê°€ ì‹¤ì œë¡œ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤. 
> ì´ëŸ¬í•œ ê²½ìš° í‘œí˜„ì‹ ì „ì— ì—ëŸ¬ ì „íŒŒë¥¼ ë¹„í™œì„±í™” í•˜ê¸° ìœ„í•´ `try!` ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê³  
> ì—ëŸ¬ë¥¼ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í˜¸ì¶œì„ ë˜í•‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
> ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì–»ìŠµë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒì˜ ì½”ë“œëŠ” ì£¼ì–´ì§„ ê²½ë¡œì˜ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ì„ ë•ŒëŠ” 
> ì—ëŸ¬ë¥¼ ë°œìƒí•˜ëŠ” `loadImage(atPath:)` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
>
> ì´ëŸ¬í•œ ê²½ìš° ì´ë¯¸ì§€ëŠ” ì´ë¯¸ì§€ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í•¨ê»˜ ì œê³µë˜ê³  ëŸ°íƒ€ì„ì— ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì—ëŸ¬ ì „íŒŒë¥¼ ë¹„í™œì„±í™” í•˜ëŠ” ê²ƒì´ ì ì ˆí•©ë‹ˆë‹¤.

```swift
let photo = try! loadImage(atPath: "./Resources/John Appleseed.jpg")
```

ğŸ¤” **ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ ì˜µì…”ë„ ê°’ì—ì„œ nil ëŒ€ì‹  ê°•ì œ ì–¸ë˜í•‘ì„ í•¨ìœ¼ë¡œì¨ ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë„ë¡ ì²˜ë¦¬?**

ğŸ¤” **ì´ê²ƒë„ ìœ„ì™€ ë™ì¼í•˜ê²Œ ì–´ë””ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ ì •í™•íˆ ì•Œ ìˆ˜ ìˆë‚˜?? ëª¨ë¥´ê² ë‹¤...**

***

### 3. ì •ë¦¬ ì‘ì—… ì§€ì • (Specifying Cleanup Actions)

> ì½”ë“œ ì‹¤í–‰ì´ ì½”ë“œì˜ í˜„ì¬ ë¸”ëŸ­ì´ ì¢…ë£Œë˜ê¸° ì§ì „ì— `defer` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì¼ë ¨ì˜ êµ¬ë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. 
> ì´ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ ì¢…ë£Œë˜ê±°ë‚˜ `return` ë˜ëŠ” `break` ì™€ ê°™ì€ êµ¬ë¬¸ì— ì˜í•´ ì¢…ë£Œë˜ëŠ” ë°©ì‹ì—
>  ìƒê´€ì—†ì´ í•„ìš”í•œ ì •ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
>
> ì˜ˆë¥¼ ë“¤ì–´ `defer` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ ì„¤ëª…ìê°€ ë‹«íˆê³  ìˆ˜ë™ìœ¼ë¡œ í• ë‹¹ëœ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`defer` êµ¬ë¬¸ì€ í˜„ì¬ ë²”ìœ„ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ì‹¤í–‰ì„ ì—°ê¸°í•©ë‹ˆë‹¤. 
ì´ êµ¬ë¬¸ì€ `defer` í‚¤ì›Œë“œì™€ ë‚˜ì¤‘ì— ì‹¤í–‰ë  êµ¬ë¬¸ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 
ì§€ì—°ëœ êµ¬ë¬¸ì€ `break` ë˜ëŠ” `return` êµ¬ë¬¸ê³¼ ê°™ì´ êµ¬ë¬¸ì˜ ë°–ìœ¼ë¡œ ì œì–´ë¥¼ ì´ë™í•˜ê±°ë‚˜ 
ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì½”ë“œë¥¼ í¬í•¨í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 

ì§€ì—°ëœ ë™ì‘ì€ ì†ŒìŠ¤ ì½”ë“œì— ì‘ì„±ëœ ìˆœì„œì™€ ë°˜ëŒ€ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. 
ì¦‰ ì²«ë²ˆì§¸ `defer` êµ¬ë¬¸ì˜ ì½”ë“œëŠ” ë§ˆì§€ë§‰ì— ì‹¤í–‰ë˜ê³  
ë‘ë²ˆì§¸ `defer` êµ¬ë¬¸ì˜ ì½”ë“œëŠ” ë§ˆì§€ë§‰ì—ì„œ ë‘ë²ˆì§¸ë¡œ ì‹¤í–‰ë˜ëŠ” ì‹ì…ë‹ˆë‹¤. 
ì†ŒìŠ¤ ì½”ë“œì˜ ë§ˆì§€ë§‰ `defer` êµ¬ë¬¸ì€ ë§ˆì§€ë§‰ì— ì‹¤í–‰í•©ë‹ˆë‹¤.

```swift
func processFile(filename: String) throws {
    if exists(filename) {
        let file = open(filename)
        defer {
            close(file)
        }
        while let line = try file.readline() {
            // Work with the file.
        }
        // close(file) is called here, at the end of the scope.
    }
}
```

- ìœ„ì˜ ì˜ˆì œëŠ” `open(_:)` í•¨ìˆ˜ì— `close(_:)` ì— ëŒ€í•œ í˜¸ì¶œì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ `defer` êµ¬ë¬¸ì„ ì‚¬ìš©

> NOTE ì—ëŸ¬ ì²˜ë¦¬ ì½”ë“œê°€ í¬í•¨ë˜ì§€ ì•Šì•˜ì„ ë•Œë„ `defer` êµ¬ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.