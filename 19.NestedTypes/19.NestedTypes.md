## [**ì¤‘ì²© íƒ€ì… (Nested Types)**]

**ì—´ê±°í˜•ì€ íŠ¹ì • êµ¬ì¡°ì²´ë‚˜ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ìì£¼ ì‚¬ìš©**ë©ë‹ˆë‹¤. 

ë¹„ìŠ·í•˜ê²Œ íŠ¹ì • ë¬¸ë§¥ì—ì„œ ì¢€ ë” ë³µì¡í•œ íƒ€ì…ì„ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë‚˜ êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŒ

Swiftì—ì„œëŠ” ì´ ê¸°ëŠ¥ì„ ìœ„í•´ ì¤‘ì²© íƒ€ì…(nested types)ì„ ì§€ì›í•©ë‹ˆë‹¤. 
ì—´ê±°í˜•, í´ë˜ìŠ¤, êµ¬ì¡°ì²´ë¥¼ ê·¸ íƒ€ì… ì•ˆì—ì„œ ë‹¤ì‹œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

##### ğŸ¤” ì—´ê±°í˜•, í´ë˜ìŠ¤, êµ¬ì¡°ì²´ë¼ë¦¬ëŠ” ê·¸ ì•ˆì—ì„œ íƒ€ì…ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ”ê±´ê°€?

***

### 1. ì¤‘ì²© íƒ€ì…ì˜ ì‚¬ìš©

ë‹¤ìŒ ì½”ë“œëŠ” ë¸”ë™ì­ ê²Œì„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¹´ë“œë¥¼ ëª¨ë¸ë§í•œ BlackjackCardë¼ëŠ” êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•œ (ì˜ˆ)ì…ë‹ˆë‹¤. `BlackjackCard êµ¬ì¡°ì²´`ëŠ” `Suit`ê³¼ `Rank`ë¼ê³  ë¶€ë¥´ëŠ” `ë‘ê°œì˜ ì¤‘ì²© ì—´ê±° íƒ€ì…`ì„ **í¬í•¨**í•©ë‹ˆë‹¤.

ë¸”ë™ì­ì—ì„œëŠ” **Ace ì¹´ë“œ**ëŠ” `1`ì´ë‚˜ `11`ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì´ ê¸°ëŠ¥ì€ Rank ì—´ê±°í˜•ì˜ ì¤‘ì²© íƒ€ì…ì¸ êµ¬ì¡°ì²´ì˜ Valuesë¼ê³  í•˜ëŠ” í”„ë¡œí¼í‹°ë¡œ í‘œí˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```swift
struct BlackjackCard {
  // nested Suit enumeration
  // struct ì•ˆì— enumì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  enum Suit: Character {
    case spades = "â™ ", hearts = "â™¡", diamonds = "â™¢", clubs = "â™£"
  }
 
  // nested Rank enumeration
  enum Rank: Int {
    case two = 2, three, four, five, six, seven, eight, nine, ten
    case jack, queen, king, ace
    struct Values { // enumì•ˆì— structê°€ ë“¤ì–´ê°€ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
      let first: Int, second: Int?
    }
    var values: Values {
      switch self {
        case .ace:
        return Values(first: 1, second: 11)
        case .jack, .queen, .king:
        return Values(first: 10, second: nil)
        default:
        return Values(first: self.rawValue, second: nil)
      }
    }
  }
 
  // BlackjackCard properties and methods
  let rank: Rank, suit: Suit
  var description: String {
    var output = "suit is \(suit.rawValue),"
    output += " value is \(rank.values.first)"
    if let second = rank.values.second {
      output += " or \(second)"
    }
    return output
  }
}
```

1. Suit ì—´ê±° ê°’ì€ ì¹´ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” 4ê°€ì§€ ëª¨ì–‘ì„ í‘œí˜„ í•©ë‹ˆë‹¤. 

2. rawê°’ì€ ê·¸ ëª¨ì–‘ì˜ ê¸°í˜¸ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. 

3. Rank ì—´ê±° ê°’ì€ ì¹´ë“œì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ 13ê°€ì§€ ì¹´ë“œ ë“±ê¸‰ì„ í‘œí˜„ í•©ë‹ˆë‹¤.

4. rawê°’ì€ ê·¸ ë“±ê¸‰ì˜ ê°’ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. 
   (ì´ raw Intê°’ì€ Jack, Queen, King ê·¸ë¦¬ê³  Ace ì¹´ë“œì—ì„œëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)

ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ê²ƒ ê°™ì´, Rank ê°’ì€ ê·¸ ê°’ ìì²´ì˜ ì¤‘ì²© êµ¬ì¡°ì²´ì¸ Valuesë¼ëŠ” ê°’ì„ ì •ì˜í•©ë‹ˆë‹¤. 
ì´ êµ¬ì¡°ëŠ” **ëŒ€ë¶€ë¶„ì˜ ì¹´ë“œê°€ í•˜ë‚˜ì˜ ê°’ë§Œ ê°–ì§€ë§Œ Ace ì¹´ë“œëŠ” ë‘ê°œë¥¼ ê°–ëŠ”ë° ì´ê²ƒì„ ìº¡ìŠí™”** í•´ì¤ë‹ˆë‹¤. 
Values êµ¬ì¡°ì²´ëŠ” ì´ê²ƒì„ í‘œí˜„í•˜ê¸° ìœ„í•´

- first : Int íƒ€ì…
- second : Int? (ì˜µì…”ë„ Int) 

ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.



RankëŠ” ë˜ ê³„ì‚°ëœ í”„ë¡œí¼í‹°(computed property)ë¥¼ ì •ì˜í•´ ì‚¬ìš©í•©ë‹ˆë‹¤. 
ace, jack, queen, kingë“± firstì™€ second ê°’ì„ ëª¨ë‘ ê°–ëŠ” ì¹´ë“œëŠ” ê·¸ê²ƒì— ë§ê²Œ ê°’ì„ ë°˜í™˜í•˜ê³  
ë‚˜ë¨¸ì§€ ë³´í†µ ìˆ«ìì— ëŒ€í•´ì„œëŠ” firstê°’ë§Œ ì¡´ì¬í•˜ê³  secondê°’ì€ nilì¸ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

BlackjackCardëŠ” rankì™€ suit ë‘ê°œì˜ í”„ë¡œí¼í‹°ë¥¼ ì†Œìœ í•˜ê³  descriptionì´ë¼ê³  ë¶€ë¥´ëŠ” ê³„ì‚°ëœ í”„ë¡œí¼í‹°ë„ 
ì •ì˜í•©ë‹ˆë‹¤. 
BlackjackCardëŠ” ì»¤ìŠ¤í…€ ì´ˆê¸°ì(custom initializer)ê°€ ì—†ëŠ” êµ¬ì¡°ì²´ì´ê¸° ë•Œë¬¸ì— 
ì•”ì‹œì ì¸ ë§´ë²„ìª½ ì´ˆê¸°ì(implicit member wise initializer)ë¥¼ ê°–ìŠµë‹ˆë‹¤. 

ê·¸ë˜ì„œ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ rankì™€ suitë¥¼ ì¸ìë¡œ ë°›ì•„ BlackjackCardë¥¼ ì´ˆê¸°í™” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let theAceOfSpades = BlackjackCard(rank: .ace, suit: .spades)
print("theAceOfSpades: \(theAceOfSpades.description)")
// Prints "theAceOfSpades: suit is â™ , value is 1 or 11"
```

.ace, .spadesê°€ BlackjackCardì•ˆì— ì¤‘ì²© íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆì–´ íƒ€ì… ì¶”ë¡ ì´ ê°€ëŠ¥ í•˜ê¸° ë•Œë¬¸ì— 
BlackjackCard ì´ˆê¸°í™”ì‹œ íƒ€ì…í˜•ì˜ ì „ì²´ ëª…ì‹œ ì—†ì´ .ace, .spades ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

***

### 2. ì¤‘ì²© íƒ€ì…ì˜ ì–¸ê¸‰ (Referring to Nested Types)

ì¤‘ì²© íƒ€ì…ì„ ì„ ì–¸ ë°–ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ì„ ì–¸ëœ ê³³ì˜ ì‹œì‘ë¶€í„° ëê¹Œì§€ ì ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

```swift
let heartsSymbol = BlackjackCard.Suit.hearts.rawValue
// heartsSymbol is "â™¡"
```

##### ğŸ¤” ì´í•´ì™„ë£Œ (BlackjackCard.Suit.hearts.rawValue í™•ì‹¤í•œ ì„ ì–¸ í•„ìš”)
